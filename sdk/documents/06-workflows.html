<!DOCTYPE html><html class="default" lang="en" data-base="../"><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>06-workflows | SmythOS SDK</title><meta name="description" content="Documentation for SmythOS SDK"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="../assets/style.css"/><link rel="stylesheet" href="../assets/highlight.css"/><link rel="stylesheet" href="../assets/custom.css"/><script defer src="../assets/main.js"></script><script async src="../assets/icons.js" id="tsd-icons-script"></script><script async src="../assets/search.js" id="tsd-search-script"></script><script async src="../assets/navigation.js" id="tsd-nav-script"></script><script async src="../assets/hierarchy.js" id="tsd-hierarchy-script"></script></head><body>
        <script>
          // Function to force the theme to light.
          const forceLightTheme = () => {
            if (document.documentElement.dataset.theme !== 'light') {
              document.documentElement.dataset.theme = 'light';
            }
          };

          // Set the theme immediately to prevent a flash of the wrong theme.
          forceLightTheme();

          // Create an observer to watch for changes to the data-theme attribute.
          const observer = new MutationObserver((mutations) => {
            mutations.forEach(mutation => {
              if (mutation.attributeName === 'data-theme') {
                forceLightTheme();
              }
            });
          });

          // Start observing the document element for attribute changes.
          observer.observe(document.documentElement, { attributes: true });
        </script>
      <script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => window.app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><a href="../index.html" class="title">SmythOS SDK</a><div id="tsd-toolbar-links"><a href="https://smythos.github.io/sre/core/">Core</a><a href="https://smythos.github.io/sre/sdk/">SDK</a><a href="https://github.com/smythos/sre">GitHub</a></div><button id="tsd-search-trigger" class="tsd-widget" aria-label="Search"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-search"></use></svg></button><dialog id="tsd-search" aria-label="Search"><input role="combobox" id="tsd-search-input" aria-controls="tsd-search-results" aria-autocomplete="list" aria-expanded="true" autocapitalize="off" autocomplete="off" placeholder="Search the docs" maxLength="100"/><ul role="listbox" id="tsd-search-results"></ul><div id="tsd-search-status" aria-live="polite" aria-atomic="true"><div>Preparing search index...</div></div></dialog><a href="#" class="tsd-widget menu" id="tsd-toolbar-menu-trigger" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-menu"></use></svg></a></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><ul class="tsd-breadcrumb" aria-label="Breadcrumb"><li><a href="" aria-current="page">06-workflows</a></li></ul></div><div class="tsd-panel tsd-typography"><h1 id="building-with-workflows-and-components" class="tsd-anchor-link">Building with Workflows and Components<a href="#building-with-workflows-and-components" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h1><p>While <code>addSkill</code> with a <code>process</code> function is great for many use cases, the SmythOS SDK provides an even more powerful, declarative way to build complex logic: <strong>Workflows</strong>.</p>
<p>Workflows allow you to construct an agent's skills by wiring together pre-built <code>Components</code> in a data-flow paradigm. This is the same system used by the visual SmythOS Builder, meaning you can programmatically create workflows that are visually representable and vice-versa.</p>
<p>The script in <a href="../../examples/03-agent-workflow-components/10-agent-workflow.ts"><code>examples/03-agent-workflow-components</code></a> demonstrates this programmatic approach.</p>
<h2 id="the-core-idea-wiring-components" class="tsd-anchor-link">The Core Idea: Wiring Components<a href="#the-core-idea-wiring-components" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Instead of writing a monolithic <code>process</code> function, you define a skill as a chain of <code>Components</code>. Each component is a small, reusable unit that performs a single task (e.g., make an API call, transform data, access storage).</p>
<p>You connect these components by wiring the <strong>output</strong> of one component to the <strong>input</strong> of another.</p>
<ul>
<li><code>component.in</code>: Defines the input data a component expects.</li>
<li><code>component.out</code>: Exposes the data a component produces.</li>
</ul>
<h2 id="example-building-a-skill-with-a-workflow" class="tsd-anchor-link">Example: Building a Skill with a Workflow<a href="#example-building-a-skill-with-a-workflow" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Let's rebuild the <code>MarketData</code> skill from the previous guides, but this time using a workflow instead of a <code>process</code> function.</p>
<p>The goal is the same: take a <code>coin_id</code>, call the CoinGecko API, and return the market data.</p>
<pre><code class="typescript"><span class="hl-3">import</span><span class="hl-1"> { </span><span class="hl-4">Agent</span><span class="hl-1">, </span><span class="hl-4">Component</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@smythos/sdk&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-6">// 1. Create the agent and the skill placeholder</span><br/><span class="hl-6">//    Note that we don&#39;t provide a &#39;process&#39; function here.</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-7">agent</span><span class="hl-1"> = </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-0">Agent</span><span class="hl-1">({ </span><span class="hl-4">name:</span><span class="hl-1"> </span><span class="hl-2">&#39;CryptoMarket Assistant&#39;</span><span class="hl-1">, </span><span class="hl-4">model:</span><span class="hl-1"> </span><span class="hl-2">&#39;gpt-4o&#39;</span><span class="hl-1"> });</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-7">skill</span><span class="hl-1"> = </span><span class="hl-4">agent</span><span class="hl-1">.</span><span class="hl-0">addSkill</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-4">name:</span><span class="hl-1"> </span><span class="hl-2">&#39;MarketData&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">description:</span><span class="hl-1"> </span><span class="hl-2">&#39;Get cryptocurrency market data for a given coin ID.&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-6">// 2. Define the skill&#39;s input</span><br/><span class="hl-6">//    This tells the agent what arguments to expect for this skill.</span><br/><span class="hl-6">//    The &#39;coin_id&#39; will be extracted from the user&#39;s prompt.</span><br/><span class="hl-4">skill</span><span class="hl-1">.</span><span class="hl-0">in</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-4">coin_id:</span><span class="hl-1"> { </span><span class="hl-4">description:</span><span class="hl-1"> </span><span class="hl-2">&#39;The official ID of the cryptocurrency (e.g., bitcoin)&#39;</span><span class="hl-1"> },</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-6">// 3. Create the API Call Component</span><br/><span class="hl-6">//    This component is responsible for making the HTTP request.</span><br/><span class="hl-6">//    Notice the &#39;{{coin_id}}&#39; placeholder in the URL.</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-7">apiCall</span><span class="hl-1"> = </span><span class="hl-4">Component</span><span class="hl-1">.</span><span class="hl-0">APICall</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-4">url:</span><span class="hl-1"> </span><span class="hl-2">&#39;https://api.coingecko.com/api/v3/coins/{{coin_id}}&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">method:</span><span class="hl-1"> </span><span class="hl-2">&#39;GET&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-6">// 4. Wire the skill&#39;s input to the API call&#39;s input</span><br/><span class="hl-6">//    We connect the &#39;coin_id&#39; from the skill&#39;s input (skill.out.coin_id)</span><br/><span class="hl-6">//    to the &#39;coin_id&#39; placeholder in the API call&#39;s URL.</span><br/><span class="hl-4">apiCall</span><span class="hl-1">.</span><span class="hl-0">in</span><span class="hl-1">({ </span><span class="hl-4">coin_id:</span><span class="hl-1"> </span><span class="hl-4">skill</span><span class="hl-1">.</span><span class="hl-4">out</span><span class="hl-1">.</span><span class="hl-4">coin_id</span><span class="hl-1"> });</span><br/><br/><span class="hl-6">// 5. Create the Output Component</span><br/><span class="hl-6">//    This component defines what data the skill should ultimately return.</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-7">output</span><span class="hl-1"> = </span><span class="hl-4">Component</span><span class="hl-1">.</span><span class="hl-0">SkillOutput</span><span class="hl-1">();</span><br/><br/><span class="hl-6">// 6. Wire the API call&#39;s output to the skill&#39;s output</span><br/><span class="hl-6">//    The API call component&#39;s output (`apiCall.out.Response`) contains the entire API response.</span><br/><span class="hl-6">//    We want to extract just the &#39;market_data&#39; field and return it as the skill&#39;s result.</span><br/><span class="hl-4">output</span><span class="hl-1">.</span><span class="hl-0">in</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-4">result:</span><span class="hl-1"> </span><span class="hl-4">apiCall</span><span class="hl-1">.</span><span class="hl-4">out</span><span class="hl-1">.</span><span class="hl-4">Response</span><span class="hl-1">.</span><span class="hl-4">market_data</span><span class="hl-1">,</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-6">// Now the skill is fully defined and ready to be used by the agent,</span><br/><span class="hl-6">// either through a prompt or a direct .call().</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-7">result</span><span class="hl-1"> = </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-4">agent</span><span class="hl-1">.</span><span class="hl-0">call</span><span class="hl-1">(</span><span class="hl-2">&#39;MarketData&#39;</span><span class="hl-1">, { </span><span class="hl-4">coin_id:</span><span class="hl-1"> </span><span class="hl-2">&#39;ethereum&#39;</span><span class="hl-1"> });</span><br/><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;Current Price (USD):&#39;</span><span class="hl-1">, </span><span class="hl-4">result</span><span class="hl-1">.</span><span class="hl-4">current_price</span><span class="hl-1">.</span><span class="hl-4">usd</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<p>This declarative, component-based approach makes complex skills easier to manage, debug, and visualize. You can see the clear flow of data from the initial input, through the API call, and to the final output.</p>
<h2 id="exporting-workflows" class="tsd-anchor-link">Exporting Workflows<a href="#exporting-workflows" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Just like agents, workflows created in the SmythOS Builder can be exported as <code>.smyth</code> files. You can then use <code>Agent.import()</code> to load these complex, visually-designed workflows into your application.</p>
<h2 id="next-steps" class="tsd-anchor-link">Next Steps<a href="#next-steps" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>You've now seen the most advanced way to build agent capabilities. Next, let's look at how the SDK integrates with external services through <a href="07-services.html">Services</a>.</p>
</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg><h3>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg><h3>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#building-with-workflows-and-components"><span>Building with <wbr/>Workflows and <wbr/>Components</span></a><ul><li><a href="#the-core-idea-wiring-components"><span>The <wbr/>Core <wbr/>Idea: <wbr/>Wiring <wbr/>Components</span></a></li><li><a href="#example-building-a-skill-with-a-workflow"><span>Example: <wbr/>Building a <wbr/>Skill with a <wbr/>Workflow</span></a></li><li><a href="#exporting-workflows"><span>Exporting <wbr/>Workflows</span></a></li><li><a href="#next-steps"><span>Next <wbr/>Steps</span></a></li></ul></div></details></div><div class="site-menu"><nav id="tsd-sidebar-links" class="tsd-navigation"><a href="https://smythos.github.io/sre/core/" class="tsd-nav-link">Core</a><a href="https://smythos.github.io/sre/sdk/" class="tsd-nav-link">SDK</a><a href="https://github.com/smythos/sre" class="tsd-nav-link">GitHub</a></nav><nav class="tsd-navigation"><a href="../modules.html">SmythOS SDK</a><ul class="tsd-small-nested-navigation" id="tsd-nav-container"><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>
