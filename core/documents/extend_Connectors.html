<!DOCTYPE html><html class="default" lang="en" data-base="../"><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>extend\Connectors | SmythOS Core</title><meta name="description" content="Documentation for SmythOS Core"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="../assets/style.css"/><link rel="stylesheet" href="../assets/highlight.css"/><link rel="stylesheet" href="../assets/custom.css"/><script defer src="../assets/main.js"></script><script async src="../assets/icons.js" id="tsd-icons-script"></script><script async src="../assets/search.js" id="tsd-search-script"></script><script async src="../assets/navigation.js" id="tsd-nav-script"></script></head><body>
        <script>
          // Function to force the theme to light.
          const forceLightTheme = () => {
            if (document.documentElement.dataset.theme !== 'light') {
              document.documentElement.dataset.theme = 'light';
            }
          };

          // Set the theme immediately to prevent a flash of the wrong theme.
          forceLightTheme();

          // Create an observer to watch for changes to the data-theme attribute.
          const observer = new MutationObserver((mutations) => {
            mutations.forEach(mutation => {
              if (mutation.attributeName === 'data-theme') {
                forceLightTheme();
              }
            });
          });

          // Start observing the document element for attribute changes.
          observer.observe(document.documentElement, { attributes: true });
        </script>
      <script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => window.app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><a href="../index.html" class="title">SmythOS Core</a><div id="tsd-toolbar-links"><a href="https://smythos.github.io/sre/core/">Core</a><a href="https://smythos.github.io/sre/sdk/">SDK</a><a href="https://github.com/smythos/sre">GitHub</a></div><button id="tsd-search-trigger" class="tsd-widget" aria-label="Search"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-search"></use></svg></button><dialog id="tsd-search" aria-label="Search"><input role="combobox" id="tsd-search-input" aria-controls="tsd-search-results" aria-autocomplete="list" aria-expanded="true" autocapitalize="off" autocomplete="off" placeholder="Search the docs" maxLength="100"/><ul role="listbox" id="tsd-search-results"></ul><div id="tsd-search-status" aria-live="polite" aria-atomic="true"><div>Preparing search index...</div></div></dialog><a href="#" class="tsd-widget menu" id="tsd-toolbar-menu-trigger" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-menu"></use></svg></a></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><ul class="tsd-breadcrumb" aria-label="Breadcrumb"><li><a href="" aria-current="page">extend\Connectors</a></li></ul></div><div class="tsd-panel tsd-typography"><h1 id="🔌-extending-sre-building-custom-connectors" class="tsd-anchor-link">🔌 Extending SRE: Building Custom Connectors<a href="#🔌-extending-sre-building-custom-connectors" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h1><blockquote>
<p><strong>Extend the Runtime with Custom Service Implementations</strong></p>
</blockquote>
<p>The Smyth Runtime Environment (SRE) is built on a <strong>connector-based architecture</strong> that allows you to seamlessly integrate with virtually any external service or technology. Whether you need to add support for a new database, cloud provider, or custom API, SRE's extensible connector system makes it straightforward.</p>
<h2 id="🏗️-service-architecture-overview" class="tsd-anchor-link">🏗️ Service Architecture Overview<a href="#🏗️-service-architecture-overview" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Every SRE service follows a consistent <strong>three-layer architecture</strong> that ensures modularity, security, and maintainability:</p>
<pre><code><span class="hl-1">┌─────────────────────────────────────┐</span><br/><span class="hl-1">│          </span><span class="hl-2">Service</span><span class="hl-1"> </span><span class="hl-2">Layer</span><span class="hl-1">           │ ← </span><span class="hl-2">Registration</span><span class="hl-1"> &amp; </span><span class="hl-2">Management</span><br/><span class="hl-1">├─────────────────────────────────────┤</span><br/><span class="hl-1">│       </span><span class="hl-2">Abstract</span><span class="hl-1"> </span><span class="hl-2">Connector</span><span class="hl-1">         │ ← </span><span class="hl-2">Interface</span><span class="hl-1"> </span><span class="hl-2">Definition</span><br/><span class="hl-1">├─────────────────────────────────────┤</span><br/><span class="hl-1">│    </span><span class="hl-2">Concrete</span><span class="hl-1"> </span><span class="hl-2">Implementations</span><span class="hl-1">      │ ← </span><span class="hl-2">Your</span><span class="hl-1"> </span><span class="hl-2">Custom</span><span class="hl-1"> </span><span class="hl-2">Connectors</span><br/><span class="hl-1">│  [</span><span class="hl-2">Redis</span><span class="hl-1">] [</span><span class="hl-6">S3</span><span class="hl-1">] [</span><span class="hl-2">Local</span><span class="hl-1">] [</span><span class="hl-2">Custom</span><span class="hl-1">...]│</span><br/><span class="hl-1">└─────────────────────────────────────┘</span>
</code><button>Copy</button></pre>

<h2 id="📁-typical-service-structure" class="tsd-anchor-link">📁 Typical Service Structure<a href="#📁-typical-service-structure" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>All SRE services follow the same organized directory structure under <code>/src/subsystems/&lt;category&gt;/&lt;servicename&gt;.service/</code>:</p>
<pre><code><span class="hl-2">Storage</span><span class="hl-1">.</span><span class="hl-2">service</span><span class="hl-1">/</span><br/><span class="hl-1">├── </span><span class="hl-2">index</span><span class="hl-1">.</span><span class="hl-2">ts</span><span class="hl-1">                    # </span><span class="hl-2">Service</span><span class="hl-1"> </span><span class="hl-2">registration</span><br/><span class="hl-1">├── </span><span class="hl-2">StorageConnector</span><span class="hl-1">.</span><span class="hl-2">ts</span><span class="hl-1">         # </span><span class="hl-2">Abstract</span><span class="hl-1"> </span><span class="hl-2">connector</span><span class="hl-1"> </span><span class="hl-5">interface</span><br/><span class="hl-1">├── </span><span class="hl-8">connectors</span><span class="hl-1">/                 # </span><span class="hl-8">Concrete</span><span class="hl-1"> </span><span class="hl-8">implementations</span><br/><span class="hl-1">│   ├── </span><span class="hl-8">LocalStorage</span><span class="hl-1">.</span><span class="hl-8">class</span><span class="hl-1">.</span><span class="hl-8">ts</span><span class="hl-1">   # </span><span class="hl-8">Local</span><span class="hl-1"> </span><span class="hl-8">filesystem</span><span class="hl-1"> </span><span class="hl-8">connector</span><br/><span class="hl-1">│   ├── </span><span class="hl-8">S3Storage</span><span class="hl-1">.</span><span class="hl-8">class</span><span class="hl-1">.</span><span class="hl-8">ts</span><span class="hl-1">      # </span><span class="hl-8">AWS</span><span class="hl-1"> </span><span class="hl-8">S3</span><span class="hl-1"> </span><span class="hl-8">connector</span><br/><span class="hl-1">│   └── [</span><span class="hl-8">YourCustom</span><span class="hl-1">].</span><span class="hl-8">class</span><span class="hl-1">.</span><span class="hl-8">ts</span><span class="hl-1">   # </span><span class="hl-8">Your</span><span class="hl-1"> </span><span class="hl-8">custom</span><span class="hl-1"> </span><span class="hl-8">connector</span><br/><span class="hl-1">└── [</span><span class="hl-8">Service</span><span class="hl-1">-</span><span class="hl-8">specific</span><span class="hl-1"> </span><span class="hl-8">helpers</span><span class="hl-1">]  # </span><span class="hl-8">Optional</span><span class="hl-1"> </span><span class="hl-8">utility</span><span class="hl-1"> </span><span class="hl-8">files</span>
</code><button>Copy</button></pre>

<h3 id="🎯-core-components" class="tsd-anchor-link">🎯 Core Components<a href="#🎯-core-components" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><h4 id="1-service-registration-indexts" class="tsd-anchor-link">1. <strong>Service Registration</strong> (<code>index.ts</code>)<a href="#1-service-registration-indexts" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>The service entry point that registers all available connectors with the SRE runtime:</p>
<pre><code class="typescript"><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-2">ConnectorService</span><span class="hl-1">, </span><span class="hl-2">ConnectorServiceProvider</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&#39;@sre/Core/ConnectorsService&#39;</span><span class="hl-1">;</span><br/><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-2">TConnectorService</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&#39;@sre/types/SRE.types&#39;</span><span class="hl-1">;</span><br/><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-2">LocalStorage</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&#39;./connectors/LocalStorage.class&#39;</span><span class="hl-1">;</span><br/><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-2">S3Storage</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&#39;./connectors/S3Storage.class&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-0">export</span><span class="hl-1"> </span><span class="hl-5">class</span><span class="hl-1"> </span><span class="hl-8">StorageService</span><span class="hl-1"> </span><span class="hl-5">extends</span><span class="hl-1"> </span><span class="hl-8">ConnectorServiceProvider</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-5">public</span><span class="hl-1"> </span><span class="hl-7">register</span><span class="hl-1">() {</span><br/><span class="hl-1">        </span><span class="hl-2">ConnectorService</span><span class="hl-1">.</span><span class="hl-7">register</span><span class="hl-1">(</span><span class="hl-2">TConnectorService</span><span class="hl-1">.</span><span class="hl-2">Storage</span><span class="hl-1">, </span><span class="hl-3">&#39;LocalStorage&#39;</span><span class="hl-1">, </span><span class="hl-2">LocalStorage</span><span class="hl-1">);</span><br/><span class="hl-1">        </span><span class="hl-2">ConnectorService</span><span class="hl-1">.</span><span class="hl-7">register</span><span class="hl-1">(</span><span class="hl-2">TConnectorService</span><span class="hl-1">.</span><span class="hl-2">Storage</span><span class="hl-1">, </span><span class="hl-3">&#39;S3&#39;</span><span class="hl-1">, </span><span class="hl-2">S3Storage</span><span class="hl-1">);</span><br/><span class="hl-1">        </span><span class="hl-4">// Your custom connector would go here:</span><br/><span class="hl-1">        </span><span class="hl-4">// ConnectorService.register(TConnectorService.Storage, &#39;MyCustom&#39;, MyCustomStorage);</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<p><strong>Key Features:</strong></p>
<ul>
<li><strong>🔧 Centralized Registration</strong>: All connectors for a service registered in one place</li>
<li><strong>🏷️ Naming Convention</strong>: Each connector gets a unique string identifier</li>
<li><strong>🔗 Type Safety</strong>: Strongly typed service categories via <code>TConnectorService</code></li>
<li><strong>📦 Lazy Loading</strong>: Connectors instantiated only when needed</li>
</ul>
<h4 id="2-abstract-connector-interface-connectorts" class="tsd-anchor-link">2. <strong>Abstract Connector Interface</strong> (<code>&lt;Service&gt;Connector.ts</code>)<a href="#2-abstract-connector-interface-connectorts" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Defines the contract that all concrete implementations must follow:</p>
<pre><code class="typescript"><span class="hl-0">export</span><span class="hl-1"> </span><span class="hl-5">interface</span><span class="hl-1"> </span><span class="hl-8">IStorageRequest</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-7">read</span><span class="hl-1">(</span><span class="hl-2">resourceId</span><span class="hl-1">: </span><span class="hl-8">string</span><span class="hl-1">): </span><span class="hl-8">Promise</span><span class="hl-1">&lt;</span><span class="hl-8">StorageData</span><span class="hl-1">&gt;;</span><br/><span class="hl-1">    </span><span class="hl-7">write</span><span class="hl-1">(</span><span class="hl-2">resourceId</span><span class="hl-1">: </span><span class="hl-8">string</span><span class="hl-1">, </span><span class="hl-2">value</span><span class="hl-1">: </span><span class="hl-8">StorageData</span><span class="hl-1">, </span><span class="hl-2">acl</span><span class="hl-1">?: </span><span class="hl-8">IACL</span><span class="hl-1">, </span><span class="hl-2">metadata</span><span class="hl-1">?: </span><span class="hl-8">StorageMetadata</span><span class="hl-1">): </span><span class="hl-8">Promise</span><span class="hl-1">&lt;</span><span class="hl-8">void</span><span class="hl-1">&gt;;</span><br/><span class="hl-1">    </span><span class="hl-7">delete</span><span class="hl-1">(</span><span class="hl-2">resourceId</span><span class="hl-1">: </span><span class="hl-8">string</span><span class="hl-1">): </span><span class="hl-8">Promise</span><span class="hl-1">&lt;</span><span class="hl-8">void</span><span class="hl-1">&gt;;</span><br/><span class="hl-1">    </span><span class="hl-7">exists</span><span class="hl-1">(</span><span class="hl-2">resourceId</span><span class="hl-1">: </span><span class="hl-8">string</span><span class="hl-1">): </span><span class="hl-8">Promise</span><span class="hl-1">&lt;</span><span class="hl-8">boolean</span><span class="hl-1">&gt;;</span><br/><span class="hl-1">    </span><span class="hl-4">// ... additional methods</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-0">export</span><span class="hl-1"> </span><span class="hl-5">abstract</span><span class="hl-1"> </span><span class="hl-5">class</span><span class="hl-1"> </span><span class="hl-8">StorageConnector</span><span class="hl-1"> </span><span class="hl-5">extends</span><span class="hl-1"> </span><span class="hl-8">SecureConnector</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-4">// Security-aware abstract methods that implementations must provide</span><br/><span class="hl-1">    </span><span class="hl-5">protected</span><span class="hl-1"> </span><span class="hl-5">abstract</span><span class="hl-1"> </span><span class="hl-7">read</span><span class="hl-1">(</span><span class="hl-2">acRequest</span><span class="hl-1">: </span><span class="hl-8">AccessRequest</span><span class="hl-1">, </span><span class="hl-2">resourceId</span><span class="hl-1">: </span><span class="hl-8">string</span><span class="hl-1">): </span><span class="hl-8">Promise</span><span class="hl-1">&lt;</span><span class="hl-8">StorageData</span><span class="hl-1">&gt;;</span><br/><span class="hl-1">    </span><span class="hl-5">protected</span><span class="hl-1"> </span><span class="hl-5">abstract</span><span class="hl-1"> </span><span class="hl-7">write</span><span class="hl-1">(</span><span class="hl-2">acRequest</span><span class="hl-1">: </span><span class="hl-8">AccessRequest</span><span class="hl-1">, </span><span class="hl-2">resourceId</span><span class="hl-1">: </span><span class="hl-8">string</span><span class="hl-1">, </span><span class="hl-2">value</span><span class="hl-1">: </span><span class="hl-8">StorageData</span><span class="hl-1">, </span><span class="hl-2">acl</span><span class="hl-1">?: </span><span class="hl-8">IACL</span><span class="hl-1">, </span><span class="hl-2">metadata</span><span class="hl-1">?: </span><span class="hl-8">StorageMetadata</span><span class="hl-1">): </span><span class="hl-8">Promise</span><span class="hl-1">&lt;</span><span class="hl-8">void</span><span class="hl-1">&gt;;</span><br/><br/><span class="hl-1">    </span><span class="hl-4">// Public interface that handles security automatically</span><br/><span class="hl-1">    </span><span class="hl-5">public</span><span class="hl-1"> </span><span class="hl-7">requester</span><span class="hl-1">(</span><span class="hl-2">candidate</span><span class="hl-1">: </span><span class="hl-8">AccessCandidate</span><span class="hl-1">): </span><span class="hl-8">IStorageRequest</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-0">return</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-7">read</span><span class="hl-2">:</span><span class="hl-1"> </span><span class="hl-5">async</span><span class="hl-1"> (</span><span class="hl-2">resourceId</span><span class="hl-1">: </span><span class="hl-8">string</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">                </span><span class="hl-0">return</span><span class="hl-1"> </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-5">this</span><span class="hl-1">.</span><span class="hl-7">read</span><span class="hl-1">(</span><span class="hl-2">candidate</span><span class="hl-1">.</span><span class="hl-2">readRequest</span><span class="hl-1">, </span><span class="hl-2">resourceId</span><span class="hl-1">);</span><br/><span class="hl-1">            },</span><br/><span class="hl-1">            </span><span class="hl-7">write</span><span class="hl-2">:</span><span class="hl-1"> </span><span class="hl-5">async</span><span class="hl-1"> (</span><span class="hl-2">resourceId</span><span class="hl-1">: </span><span class="hl-8">string</span><span class="hl-1">, </span><span class="hl-2">value</span><span class="hl-1">: </span><span class="hl-8">StorageData</span><span class="hl-1">, </span><span class="hl-2">acl</span><span class="hl-1">?: </span><span class="hl-8">IACL</span><span class="hl-1">, </span><span class="hl-2">metadata</span><span class="hl-1">?: </span><span class="hl-8">StorageMetadata</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">                </span><span class="hl-0">return</span><span class="hl-1"> </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-5">this</span><span class="hl-1">.</span><span class="hl-7">write</span><span class="hl-1">(</span><span class="hl-2">candidate</span><span class="hl-1">.</span><span class="hl-2">writeRequest</span><span class="hl-1">, </span><span class="hl-2">resourceId</span><span class="hl-1">, </span><span class="hl-2">value</span><span class="hl-1">, </span><span class="hl-2">acl</span><span class="hl-1">, </span><span class="hl-2">metadata</span><span class="hl-1">);</span><br/><span class="hl-1">            },</span><br/><span class="hl-1">            </span><span class="hl-4">// ... other methods</span><br/><span class="hl-1">        };</span><br/><span class="hl-1">    }</span><br/><br/><span class="hl-1">    </span><span class="hl-4">// Resource-level access control</span><br/><span class="hl-1">    </span><span class="hl-5">public</span><span class="hl-1"> </span><span class="hl-5">abstract</span><span class="hl-1"> </span><span class="hl-7">getResourceACL</span><span class="hl-1">(</span><span class="hl-2">resourceId</span><span class="hl-1">: </span><span class="hl-8">string</span><span class="hl-1">, </span><span class="hl-2">candidate</span><span class="hl-1">: </span><span class="hl-8">IAccessCandidate</span><span class="hl-1">): </span><span class="hl-8">Promise</span><span class="hl-1">&lt;</span><span class="hl-8">ACL</span><span class="hl-1">&gt;;</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<p><strong>Architecture Benefits:</strong></p>
<ul>
<li><strong>🛡️ Built-in Security</strong>: Every operation requires proper authorization through <code>AccessRequest</code></li>
<li><strong>🔌 Unified Interface</strong>: Consistent API across all connector implementations</li>
<li><strong>🎯 Clean Separation</strong>: Public interface separate from protected implementation details</li>
<li><strong>📊 Resource-Level ACL</strong>: Fine-grained access control per resource</li>
</ul>
<h4 id="3-concrete-implementations-connectors" class="tsd-anchor-link">3. <strong>Concrete Implementations</strong> (<code>connectors/</code>)<a href="#3-concrete-implementations-connectors" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Individual connector classes that implement the abstract interface for specific technologies:</p>
<pre><code class="typescript"><span class="hl-0">export</span><span class="hl-1"> </span><span class="hl-5">class</span><span class="hl-1"> </span><span class="hl-8">LocalStorage</span><span class="hl-1"> </span><span class="hl-5">extends</span><span class="hl-1"> </span><span class="hl-8">StorageConnector</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-5">public</span><span class="hl-1"> </span><span class="hl-2">name</span><span class="hl-1"> = </span><span class="hl-3">&#39;LocalStorage&#39;</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-5">private</span><span class="hl-1"> </span><span class="hl-2">folder</span><span class="hl-1">: </span><span class="hl-8">string</span><span class="hl-1">;</span><br/><br/><span class="hl-1">    </span><span class="hl-5">constructor</span><span class="hl-1">(</span><span class="hl-2">settings</span><span class="hl-1">: </span><span class="hl-8">LocalStorageConfig</span><span class="hl-1">) {</span><br/><span class="hl-1">        </span><span class="hl-5">super</span><span class="hl-1">();</span><br/><span class="hl-1">        </span><span class="hl-5">this</span><span class="hl-1">.</span><span class="hl-2">folder</span><span class="hl-1"> = </span><span class="hl-2">settings</span><span class="hl-1">.</span><span class="hl-2">folder</span><span class="hl-1"> || </span><span class="hl-2">path</span><span class="hl-1">.</span><span class="hl-7">join</span><span class="hl-1">(</span><span class="hl-2">os</span><span class="hl-1">.</span><span class="hl-7">tmpdir</span><span class="hl-1">(), </span><span class="hl-3">&#39;.smyth/storage&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">        </span><span class="hl-5">this</span><span class="hl-1">.</span><span class="hl-7">initialize</span><span class="hl-1">();</span><br/><span class="hl-1">    }</span><br/><br/><span class="hl-1">    </span><span class="hl-4">// Implement all abstract methods with @SecureConnector.AccessControl decoration</span><br/><span class="hl-1">    @</span><span class="hl-2">SecureConnector</span><span class="hl-1">.</span><span class="hl-2">AccessControl</span><br/><span class="hl-1">    </span><span class="hl-5">protected</span><span class="hl-1"> </span><span class="hl-5">async</span><span class="hl-1"> </span><span class="hl-7">read</span><span class="hl-1">(</span><span class="hl-2">acRequest</span><span class="hl-1">: </span><span class="hl-8">AccessRequest</span><span class="hl-1">, </span><span class="hl-2">resourceId</span><span class="hl-1">: </span><span class="hl-8">string</span><span class="hl-1">): </span><span class="hl-8">Promise</span><span class="hl-1">&lt;</span><span class="hl-8">StorageData</span><span class="hl-1">&gt; {</span><br/><span class="hl-1">        </span><span class="hl-4">// Your implementation here</span><br/><span class="hl-1">        </span><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">filePath</span><span class="hl-1"> = </span><span class="hl-5">this</span><span class="hl-1">.</span><span class="hl-7">getStorageFilePath</span><span class="hl-1">(</span><span class="hl-2">acRequest</span><span class="hl-1">.</span><span class="hl-2">candidate</span><span class="hl-1">.</span><span class="hl-2">id</span><span class="hl-1">, </span><span class="hl-2">resourceId</span><span class="hl-1">);</span><br/><span class="hl-1">        </span><span class="hl-0">return</span><span class="hl-1"> </span><span class="hl-2">fs</span><span class="hl-1">.</span><span class="hl-7">readFileSync</span><span class="hl-1">(</span><span class="hl-2">filePath</span><span class="hl-1">, </span><span class="hl-3">&#39;utf-8&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">    }</span><br/><br/><span class="hl-1">    </span><span class="hl-4">// Access control implementation</span><br/><span class="hl-1">    </span><span class="hl-5">public</span><span class="hl-1"> </span><span class="hl-5">async</span><span class="hl-1"> </span><span class="hl-7">getResourceACL</span><span class="hl-1">(</span><span class="hl-2">resourceId</span><span class="hl-1">: </span><span class="hl-8">string</span><span class="hl-1">, </span><span class="hl-2">candidate</span><span class="hl-1">: </span><span class="hl-8">IAccessCandidate</span><span class="hl-1">): </span><span class="hl-8">Promise</span><span class="hl-1">&lt;</span><span class="hl-8">ACL</span><span class="hl-1">&gt; {</span><br/><span class="hl-1">        </span><span class="hl-4">// Determine resource permissions based on your storage system</span><br/><span class="hl-1">        </span><span class="hl-4">// Return appropriate ACL for the resource and candidate</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<p><strong>Implementation Features:</strong></p>
<ul>
<li><strong>🎨 Flexible Configuration</strong>: Constructor accepts connector-specific settings</li>
<li><strong>🔒 Automatic Security</strong>: <code>@SecureConnector.AccessControl</code> decorator enforces access control</li>
<li><strong>📍 Resource Isolation</strong>: Each candidate gets isolated resource access based on their identity</li>
<li><strong>⚡ Performance Optimized</strong>: Implementations can add caching, pooling, etc.</li>
</ul>
<h2 id="🔑-key-architectural-principles" class="tsd-anchor-link">🔑 Key Architectural Principles<a href="#🔑-key-architectural-principles" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><h3 id="🛡️-security-first-design" class="tsd-anchor-link">🛡️ Security-First Design<a href="#🛡️-security-first-design" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Every SRE connector operates within the <strong>Candidate/ACL security model</strong>:</p>
<ul>
<li><strong>🎫 Access Candidates</strong>: Every request comes with an authenticated candidate (agent, user, system)</li>
<li><strong>📋 Access Control Lists</strong>: Resources have fine-grained permissions per candidate</li>
<li><strong>🔐 Request Authorization</strong>: All operations validated through <code>AccessRequest</code> objects</li>
<li><strong>🚫 Fail-Safe Defaults</strong>: Missing ACLs default to secure (no access)</li>
</ul>
<h3 id="🔌-pluggable-architecture" class="tsd-anchor-link">🔌 Pluggable Architecture<a href="#🔌-pluggable-architecture" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul>
<li><strong>🔄 Hot-Swappable</strong>: Change connectors without modifying business logic</li>
<li><strong>⚙️ Configuration-Driven</strong>: Switch implementations via SRE initialization config</li>
<li><strong>🧩 Mix-and-Match</strong>: Different connectors for different environments (dev/staging/prod)</li>
<li><strong>📈 Scaling Strategy</strong>: Start simple, upgrade to enterprise solutions seamlessly</li>
</ul>
<h3 id="🎯-consistent-patterns" class="tsd-anchor-link">🎯 Consistent Patterns<a href="#🎯-consistent-patterns" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>All services follow identical patterns for:</p>
<ul>
<li><strong>📝 Error Handling</strong>: Consistent exception types and logging</li>
<li><strong>📊 Metadata Management</strong>: Standardized metadata storage and retrieval</li>
<li><strong>⏰ TTL Support</strong>: Time-to-live functionality where applicable</li>
<li><strong>🔍 Resource Discovery</strong>: Unified approaches to listing and querying resources</li>
</ul>
<h2 id="🎪-service-categories" class="tsd-anchor-link">🎪 Service Categories<a href="#🎪-service-categories" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>SRE organizes connectors into <strong>logical subsystems</strong>, each serving specific runtime needs:</p>
<table>
<thead>
<tr>
<th>Subsystem</th>
<th>Services</th>
<th>Purpose</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>🔄 IO</strong></td>
<td>Storage, VectorDB, Log, Router, NKV, CLI</td>
<td>External data and communication</td>
</tr>
<tr>
<td><strong>🧠 LLMManager</strong></td>
<td>Models, Providers</td>
<td>AI model access</td>
</tr>
<tr>
<td><strong>🔐 Security</strong></td>
<td>Vault, Account</td>
<td>Authentication and secrets</td>
</tr>
<tr>
<td><strong>💾 MemoryManager</strong></td>
<td>Cache</td>
<td>Performance optimization</td>
</tr>
<tr>
<td><strong>🤖 AgentManager</strong></td>
<td>Agents, Components</td>
<td>Agent execution</td>
</tr>
</tbody>
</table>
<p>Each subsystem contains multiple services, and each service supports multiple connector implementations, giving you maximum flexibility in how you architect your AI agent infrastructure.</p>
<hr>
<p><em>Ready to build your first custom connector? The next sections will walk you through implementation step-by-step.</em></p>
<h1 id="extending-sre-custom-connectors" class="tsd-anchor-link">Extending SRE: Custom Connectors<a href="#extending-sre-custom-connectors" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h1><p>One of the most powerful features of the Smyth Runtime Environment is its modular, connector-based architecture. You can extend the SRE to support new services (like a different database, storage provider, or LLM) by creating your own custom connectors.</p>
<h2 id="connector-development-flow" class="tsd-anchor-link">Connector Development Flow<a href="#connector-development-flow" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Developing a new connector involves three main steps:</p>
<h3 id="1-implement-the-interface" class="tsd-anchor-link">1. Implement the Interface<a href="#1-implement-the-interface" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Every connector type in SRE has a corresponding interface that defines the required methods and properties. Your first step is to create a new class that implements the appropriate interface.</p>
<p>For example, to create a new storage connector, you would implement <code>IStorageConnector</code>.</p>
<pre><code class="typescript"><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-2">IStorageConnector</span><span class="hl-1">, </span><span class="hl-2">TStorageConfig</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&#39;@smythos/sre&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-0">export</span><span class="hl-1"> </span><span class="hl-5">class</span><span class="hl-1"> </span><span class="hl-8">MyCustomStorageConnector</span><span class="hl-1"> </span><span class="hl-5">implements</span><span class="hl-1"> </span><span class="hl-8">IStorageConnector</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-5">private</span><span class="hl-1"> </span><span class="hl-2">settings</span><span class="hl-1">: </span><span class="hl-8">TStorageConfig</span><span class="hl-1">;</span><br/><br/><span class="hl-1">    </span><span class="hl-5">constructor</span><span class="hl-1">(</span><span class="hl-2">settings</span><span class="hl-1">: </span><span class="hl-8">TStorageConfig</span><span class="hl-1">) {</span><br/><span class="hl-1">        </span><span class="hl-5">this</span><span class="hl-1">.</span><span class="hl-2">settings</span><span class="hl-1"> = </span><span class="hl-2">settings</span><span class="hl-1">;</span><br/><span class="hl-1">    }</span><br/><br/><span class="hl-1">    </span><span class="hl-5">async</span><span class="hl-1"> </span><span class="hl-7">init</span><span class="hl-1">(): </span><span class="hl-8">Promise</span><span class="hl-1">&lt;</span><span class="hl-8">void</span><span class="hl-1">&gt; {</span><br/><span class="hl-1">        </span><span class="hl-4">// Initialization logic for your connector,</span><br/><span class="hl-1">        </span><span class="hl-4">// like connecting to the database or authenticating.</span><br/><span class="hl-1">        </span><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-7">log</span><span class="hl-1">(</span><span class="hl-3">&#39;MyCustomStorageConnector initialized!&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">    }</span><br/><br/><span class="hl-1">    </span><span class="hl-4">// ... implement all other required methods from IStorageConnector</span><br/><span class="hl-1">    </span><span class="hl-4">// (e.g., read, write, delete, list)</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<h3 id="2-register-the-connector" class="tsd-anchor-link">2. Register the Connector<a href="#2-register-the-connector" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Once your connector class is created, you need to register it with the SRE's <code>ConnectorService</code>. This makes the runtime aware of your new connector and allows it to be selected in the configuration.</p>
<p>Registration is typically done in a central initialization file.</p>
<pre><code class="typescript"><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-2">ConnectorService</span><span class="hl-1">, </span><span class="hl-2">TConnectorService</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&#39;@smythos/sre&#39;</span><span class="hl-1">;</span><br/><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-2">MyCustomStorageConnector</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&#39;./my-custom-storage.connector&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">// Register the new connector with a unique name</span><br/><span class="hl-2">ConnectorService</span><span class="hl-1">.</span><span class="hl-7">register</span><span class="hl-1">(</span><br/><span class="hl-1">    </span><span class="hl-2">TConnectorService</span><span class="hl-1">.</span><span class="hl-2">Storage</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-3">&#39;MyCustomStorage&#39;</span><span class="hl-1">, </span><span class="hl-4">// This is the name you&#39;ll use in the config</span><br/><span class="hl-1">    </span><span class="hl-2">MyCustomStorageConnector</span><br/><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<h3 id="3-use-the-connector-in-configuration" class="tsd-anchor-link">3. Use the Connector in Configuration<a href="#3-use-the-connector-in-configuration" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>After registration, you can now use your custom connector in the SRE configuration file just like any built-in connector.</p>
<pre><code class="typescript"><span class="hl-4">// in your SRE initialization</span><br/><span class="hl-6">SRE</span><span class="hl-1">.</span><span class="hl-7">init</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-4">// ... other services</span><br/><span class="hl-1">    </span><span class="hl-2">Storage:</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-2">Connector:</span><span class="hl-1"> </span><span class="hl-3">&#39;MyCustomStorage&#39;</span><span class="hl-1">, </span><span class="hl-4">// Use the name you registered</span><br/><span class="hl-1">        </span><span class="hl-2">Settings:</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-4">// any custom settings your connector needs</span><br/><span class="hl-1">            </span><span class="hl-2">endpoint:</span><span class="hl-1"> </span><span class="hl-3">&#39;https://my.custom.storage/api&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        },</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">    </span><span class="hl-4">// ...</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg><h3>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg><h3>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#🔌-extending-sre-building-custom-connectors"><span>🔌 <wbr/>Extending <wbr/>SRE: <wbr/>Building <wbr/>Custom <wbr/>Connectors</span></a><ul><li><a href="#🏗️-service-architecture-overview"><span>🏗️ <wbr/>Service <wbr/>Architecture <wbr/>Overview</span></a></li><li><a href="#📁-typical-service-structure"><span>📁 <wbr/>Typical <wbr/>Service <wbr/>Structure</span></a></li><li><ul><li><a href="#🎯-core-components"><span>🎯 <wbr/>Core <wbr/>Components</span></a></li><li><ul><li><a href="#1-service-registration-indexts"><span>1. <wbr/>Service <wbr/>Registration (index.ts)</span></a></li><li><a href="#2-abstract-connector-interface-connectorts"><span>2. <wbr/>Abstract <wbr/>Connector <wbr/>Interface (&lt;<wbr/>Service&gt;<wbr/>Connector.ts)</span></a></li><li><a href="#3-concrete-implementations-connectors"><span>3. <wbr/>Concrete <wbr/>Implementations (connectors/)</span></a></li></ul></li></ul></li><li><a href="#🔑-key-architectural-principles"><span>🔑 <wbr/>Key <wbr/>Architectural <wbr/>Principles</span></a></li><li><ul><li><a href="#🛡️-security-first-design"><span>🛡️ <wbr/>Security-<wbr/>First <wbr/>Design</span></a></li><li><a href="#🔌-pluggable-architecture"><span>🔌 <wbr/>Pluggable <wbr/>Architecture</span></a></li><li><a href="#🎯-consistent-patterns"><span>🎯 <wbr/>Consistent <wbr/>Patterns</span></a></li></ul></li><li><a href="#🎪-service-categories"><span>🎪 <wbr/>Service <wbr/>Categories</span></a></li></ul><a href="#extending-sre-custom-connectors"><span>Extending <wbr/>SRE: <wbr/>Custom <wbr/>Connectors</span></a><ul><li><a href="#connector-development-flow"><span>Connector <wbr/>Development <wbr/>Flow</span></a></li><li><ul><li><a href="#1-implement-the-interface"><span>1. <wbr/>Implement the <wbr/>Interface</span></a></li><li><a href="#2-register-the-connector"><span>2. <wbr/>Register the <wbr/>Connector</span></a></li><li><a href="#3-use-the-connector-in-configuration"><span>3. <wbr/>Use the <wbr/>Connector in <wbr/>Configuration</span></a></li></ul></li></ul></div></details></div><div class="site-menu"><nav id="tsd-sidebar-links" class="tsd-navigation"><a href="https://smythos.github.io/sre/core/" class="tsd-nav-link">Core</a><a href="https://smythos.github.io/sre/sdk/" class="tsd-nav-link">SDK</a><a href="https://github.com/smythos/sre" class="tsd-nav-link">GitHub</a></nav><nav class="tsd-navigation"><a href="../modules.html">SmythOS Core</a><ul class="tsd-small-nested-navigation" id="tsd-nav-container"><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>
