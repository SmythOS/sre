<!DOCTYPE html><html class="default" lang="en" data-base="../"><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>05-configuration | SmythOS Core</title><meta name="description" content="Documentation for SmythOS Core"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="../assets/style.css"/><link rel="stylesheet" href="../assets/highlight.css"/><link rel="stylesheet" href="../assets/custom.css"/><script defer src="../assets/main.js"></script><script defer src="../assets/custom.js"></script><script async src="../assets/icons.js" id="tsd-icons-script"></script><script async src="../assets/search.js" id="tsd-search-script"></script><script async src="../assets/navigation.js" id="tsd-nav-script"></script></head><body>
        <script>
          // Function to force the theme to light.
          const forceLightTheme = () => {
            if (document.documentElement.dataset.theme !== 'light') {
              document.documentElement.dataset.theme = 'light';
            }
          };

          // Set the theme immediately to prevent a flash of the wrong theme.
          forceLightTheme();

          // Create an observer to watch for changes to the data-theme attribute.
          const observer = new MutationObserver((mutations) => {
            mutations.forEach(mutation => {
              if (mutation.attributeName === 'data-theme') {
                forceLightTheme();
              }
            });
          });

          // Start observing the document element for attribute changes.
          observer.observe(document.documentElement, { attributes: true });
        </script>
      <script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => window.app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><a href="../index.html" class="title">SmythOS Core</a><div id="tsd-toolbar-links"><a href="https://discord.gg/smythos">Discord</a><a href="https://smythos.github.io/sre/core/">Core</a><a href="https://smythos.github.io/sre/sdk/">SDK</a><a href="https://smythos.github.io/sre/cli/">CLI</a><a href="https://github.com/smythos/sre">GitHub</a></div><button id="tsd-search-trigger" class="tsd-widget" aria-label="Search"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-search"></use></svg></button><dialog id="tsd-search" aria-label="Search"><input role="combobox" id="tsd-search-input" aria-controls="tsd-search-results" aria-autocomplete="list" aria-expanded="true" autocapitalize="off" autocomplete="off" placeholder="Search the docs" maxLength="100"/><ul role="listbox" id="tsd-search-results"></ul><div id="tsd-search-status" aria-live="polite" aria-atomic="true"><div>Preparing search index...</div></div></dialog><a href="#" class="tsd-widget menu" id="tsd-toolbar-menu-trigger" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-menu"></use></svg></a></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><ul class="tsd-breadcrumb" aria-label="Breadcrumb"><li><a href="" aria-current="page">05-configuration</a></li></ul></div><div class="tsd-panel tsd-typography"><h1 id="sre-configuration" class="tsd-anchor-link">SRE Configuration<a href="#sre-configuration" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h1><p>SRE provides several ways to configure its behavior, including environment variables, command-line arguments, and settings files. This document outlines the available configuration methods and settings.</p>
<h2 id="configuration-layers" class="tsd-anchor-link">Configuration Layers<a href="#configuration-layers" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Configuration is applied in the following order of precedence (higher numbers override lower numbers):</p>
<ol>
<li><strong>Default values:</strong> Hardcoded defaults within the application.</li>
<li><strong>User settings folder (~/.smyth/):</strong> Global settings for the current user's home directory.</li>
<li><strong>Project settings folder (.smyth/):</strong> Project-specific settings.</li>
<li><strong>Environment variables:</strong> System-wide or session-specific variables, which may be loaded from <code>.env</code> files.</li>
<li><strong>User Code:</strong> User code can override configuration by passing a custom config to SRE and its connectors.</li>
</ol>
<h2 id="the-smyth-folder" class="tsd-anchor-link">The .smyth Folder<a href="#the-smyth-folder" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>SRE uses <code>.smyth</code> folders to store configuration, secrets, and some persistent data used by connectors:</p>
<h3 id="location" class="tsd-anchor-link">Location<a href="#location" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The <code>.smyth</code> folder can be located in two places:</p>
<ul>
<li>
<p><strong>User settings folder:</strong></p>
<ul>
<li><strong>Location:</strong> <code>~/.smyth/</code> (where <code>~</code> is your home directory).</li>
<li><strong>Scope:</strong> Applies to all SRE sessions for the current user.</li>
</ul>
</li>
<li>
<p><strong>Project settings folder:</strong></p>
<ul>
<li><strong>Location:</strong> <code>.smyth/</code> within your project's root directory.</li>
<li><strong>Scope:</strong> Applies only when running SRE from that specific project. Project settings override user settings.</li>
</ul>
</li>
</ul>
<h3 id="content" class="tsd-anchor-link">Content<a href="#content" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>In this section, &quot;.smyth&quot; refers to either the user settings folder or the project settings folder, depending on the discovery order.</p>
<h4 id="smythsre-subfolder" class="tsd-anchor-link">.smyth/.sre/ Subfolder<a href="#smythsre-subfolder" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>This subfolder contains the actual settings for SRE.</p>
<ul>
<li>
<p><code>.smyth/.sre/vault.json</code>: This file is present if you are using the default vault connector to manage API keys and secrets. It contains LLM API keys, other third-party API keys, and user-specified keys. It can be encrypted to protect the keys. (You can use other vault connectors to manage your secrets, such as AWS Secret Manager. In that case, this file will be ignored.)</p>
</li>
<li>
<p><code>.smyth/.sre/config.json</code>: If present, this file defines the SRE startup configuration.</p>
</li>
</ul>
<h4 id="other-subfolders" class="tsd-anchor-link">Other Subfolders<a href="#other-subfolders" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>SRE can load connectors that need to store data locally. These connectors can be configured to store data in specific locations, but if no location is specified, they fall back to a default location, which is a subfolder of the <code>.smyth</code> folder.</p>
<p>For example, the Local Storage connector uses the <code>.smyth/storage/</code> folder to store local data if no other location is specified.</p>
<p><strong>Note on environment variables in settings:</strong> String values within your <code>vault.json</code> or <code>config.json</code> files can reference environment variables using the <code>$env(VAR_NAME)</code> syntax. These variables will be automatically resolved at runtime. For example, if you have an environment variable <code>OPENAI_API_KEY</code>, you could use it in <code>vault.json</code> like this: <code>&quot;openai&quot;: &quot;$env(OPENAI_API_KEY)&quot;</code>.</p>
<h3 id="vaultjson-structure" class="tsd-anchor-link">vault.json Structure<a href="#vaultjson-structure" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The vault stores keys for different teams, but must have at least a &quot;default&quot; team configured. This is the team ID used for any agent that does not belong to a specific team. If an agent belongs to a specific team, it can only load secrets from that team's vault by default. The vault connector provides a configuration option to specify a shared vault entry that can be used as a fallback if a key is not found in the team's vault. This can be a completely separate entry (for example, called &quot;shared&quot;), or you can specify an existing entry (e.g., &quot;default&quot;).</p>
<pre><code class="json"><span class="hl-1">{</span><br/><span class="hl-1">    </span><span class="hl-9">&quot;default&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">        </span><span class="hl-9">&quot;echo&quot;</span><span class="hl-1">: </span><span class="hl-3">&quot;&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-9">&quot;openai&quot;</span><span class="hl-1">: </span><span class="hl-3">&quot;sk-hardcoded-key&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-9">&quot;anthropic&quot;</span><span class="hl-1">: </span><span class="hl-3">&quot;$env(ANTHROPIC_API_KEY)&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-9">&quot;googleai&quot;</span><span class="hl-1">: </span><span class="hl-3">&quot;&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-9">&quot;groq&quot;</span><span class="hl-1">: </span><span class="hl-3">&quot;&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-9">&quot;togetherai&quot;</span><span class="hl-1">: </span><span class="hl-3">&quot;&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-9">&quot;tavily&quot;</span><span class="hl-1">: </span><span class="hl-3">&quot;&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-9">&quot;my_custom_key&quot;</span><span class="hl-1">: </span><span class="hl-3">&quot;1234567890&quot;</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">    </span><span class="hl-9">&quot;team-id-0001&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">        </span><span class="hl-9">&quot;echo&quot;</span><span class="hl-1">: </span><span class="hl-3">&quot;...&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-9">&quot;openai&quot;</span><span class="hl-1">: </span><span class="hl-3">&quot;...&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-9">&quot;anthropic&quot;</span><span class="hl-1">: </span><span class="hl-3">&quot;...&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-9">&quot;googleai&quot;</span><span class="hl-1">: </span><span class="hl-3">&quot;...&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-9">&quot;groq&quot;</span><span class="hl-1">: </span><span class="hl-3">&quot;...&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-9">&quot;togetherai&quot;</span><span class="hl-1">: </span><span class="hl-3">&quot;...&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-9">&quot;tavily&quot;</span><span class="hl-1">: </span><span class="hl-3">&quot;...&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-9">&quot;my_custom_key&quot;</span><span class="hl-1">: </span><span class="hl-3">&quot;...&quot;</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">    </span><span class="hl-9">&quot;team-id-0002&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">        </span><span class="hl-4">//...</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg><h3>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg><h3>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#sre-configuration"><span>SRE <wbr/>Configuration</span></a><ul><li><a href="#configuration-layers"><span>Configuration <wbr/>Layers</span></a></li><li><a href="#the-smyth-folder"><span>The .smyth <wbr/>Folder</span></a></li><li><ul><li><a href="#location"><span>Location</span></a></li><li><a href="#content"><span>Content</span></a></li><li><ul><li><a href="#smythsre-subfolder"><span>.smyth/.sre/ <wbr/>Subfolder</span></a></li><li><a href="#other-subfolders"><span>Other <wbr/>Subfolders</span></a></li></ul></li><li><a href="#vaultjson-structure"><span>vault.json <wbr/>Structure</span></a></li></ul></li></ul></div></details></div><div class="site-menu"><nav id="tsd-sidebar-links" class="tsd-navigation"><a href="https://discord.gg/smythos" class="tsd-nav-link">Discord</a><a href="https://smythos.github.io/sre/core/" class="tsd-nav-link">Core</a><a href="https://smythos.github.io/sre/sdk/" class="tsd-nav-link">SDK</a><a href="https://smythos.github.io/sre/cli/" class="tsd-nav-link">CLI</a><a href="https://github.com/smythos/sre" class="tsd-nav-link">GitHub</a></nav><nav class="tsd-navigation"><a href="../modules.html">SmythOS Core</a><ul class="tsd-small-nested-navigation" id="tsd-nav-container"><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>
